<html>  
<head>  
<title>位置信息</title>  

<script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
<script>
wx.config({
    debug: true,
    appId: wxdd2c945f1d4752a7,
    timestamp: 1546673062,
    nonceStr: abcefghijklmnopq,
    signature: 2c6cb6d324fccdc1b32bb772778458cc0c34cbf9,
    jsApiList: ['onMenuShareTimeline','onMenuShareAppMessage','openLocation']
});
 
wx.ready(function () {
        //判断当前客户端版本是否支持指定JS接口
    wx.checkJsApi({     
        jsApiList: ['openLocation'], //我只需要查看位置的接口  
            success: function(res) {            
                var obj =JSON.stringify(res);//把微信返回的res数据转换为json字符串
                var jsonobj=eval('('+obj+')');//将json转化为json数据方便获取
                //判断getLocation这个js客户端是否支持，true为支持，false为不支持。
                if (jsonobj.checkResult.getLocation==false) {
                    //不支持事件。这里我尝试写入其他js代码，貌似无效的，反正不执行，我不懂因此找不到原因。
                } else {
                    //支持事件。
                    wx.openLocation({
                        latitude: 24.348260, // 纬度，浮点数，范围为90 ~ -90
                        longitude: 113.151000, // 经度，浮点数，范围为180 ~ -180。
                        name: '石牯塘镇', // 位置名
                        address: '广东省英德市', // 地址详情说明
                        scale: 12, // 地图缩放级别,整形值,范围从1~28。默认为最大
                        infoUrl: '' // 在查看位置界面底部显示的超链接,可点击跳转
                    });                 
                }
            }
    }); 
});
wx.error(function(res){
});
</script>

</head> 
<body> 
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
<script>
wx.config({
    debug: false,
    appId: '<?php echo $signPackage["appId"];?>',
    timestamp: '<?php echo $signPackage["timestamp"];?>',
    nonceStr: '<?php echo $signPackage["nonceStr"];?>',
    signature: '<?php echo $signPackage["signature"];?>',
    jsApiList: ['onMenuShareTimeline','onMenuShareAppMessage','openLocation']
});
 
wx.ready(function () {
        //判断当前客户端版本是否支持指定JS接口
    wx.checkJsApi({     
        jsApiList: ['openLocation'], //我只需要查看位置的接口  
            success: function(res) {            
                var obj =JSON.stringify(res);//把微信返回的res数据转换为json字符串
                var jsonobj=eval('('+obj+')');//将json转化为json数据方便获取
                //判断getLocation这个js客户端是否支持，true为支持，false为不支持。
                if (jsonobj.checkResult.getLocation==false) {
                    //不支持事件。这里我尝试写入其他js代码，貌似无效的，反正不执行，我不懂因此找不到原因。
                } else {
                    //支持事件。
                    wx.openLocation({
                        latitude: 24.348260, // 纬度，浮点数，范围为90 ~ -90
                        longitude: 113.151000, // 经度，浮点数，范围为180 ~ -180。
                        name: '石牯塘镇', // 位置名
                        address: '广东省英德市', // 地址详情说明
                        scale: 12, // 地图缩放级别,整形值,范围从1~28。默认为最大
                        infoUrl: '' // 在查看位置界面底部显示的超链接,可点击跳转
                    });                 
                }
            }
    }); 
});
wx.error(function(res){
});
</script>
这里就是正文内容 Hello
    <script type="text/javascript" src="http://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
        <script type = "text/javascript">
         
        window.onload = function () {
        
                    wx.openLocation({
                        latitude: 24.348260, // 纬度，浮点数，范围为90 ~ -90
                        longitude: 113.151000, // 经度，浮点数，范围为180 ~ -180。
                        name: '石牯塘镇', // 位置名
                        address: '广东省英德市', // 地址详情说明
                        scale: 12, // 地图缩放级别,整形值,范围从1~28。默认为最大
                        infoUrl: '' // 在查看位置界面底部显示的超链接,可点击跳转
                    });                 

    }
    </script>
</body> 
</html> 
